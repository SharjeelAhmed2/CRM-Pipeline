{"version":3,"file":"content.js","mappings":";;;;;AAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,mBAAmB,iBAAiB,uBAAuB,wBAAwB,4BAA4B,iDAAiD,wBAAwB,wBAAwB;AACvQ;AACA;AACA;AACA,gDAAgD,kBAAkB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://gmail-crm-extension/./src/content.tsx"],"sourcesContent":["\"use strict\";\n// src/content.tsx\nconsole.log('Content script starting...');\nvar GMAIL_URL_PATTERN = 'https://mail.google.com';\n// For Sidebar\nfunction createSidebar() {\n    var sidebar = document.createElement('div');\n    sidebar.id = 'gmail-crm-sidebar';\n    sidebar.style.cssText = \"\\n        position: fixed;\\n        right: 0;\\n        top: 0;\\n        width: 250px;\\n        height: 100vh;\\n        background: white;\\n        box-shadow: -2px 0 5px rgba(0,0,0,0.1);\\n        z-index: 1000;\\n        padding: 20px;\\n    \";\n    // Add title\n    var title = document.createElement('h2');\n    title.textContent = 'CRM Pipeline';\n    title.style.cssText = 'margin-bottom: 15px; font-weight: bold;';\n    sidebar.appendChild(title);\n    // Add to page\n    document.body.appendChild(sidebar);\n    // Adjust Gmail's main content\n    var gmailContent = document.querySelector('.bkK');\n    if (gmailContent) {\n        gmailContent.style.marginRight = '250px';\n    }\n}\nfunction observeGmailInbox() {\n    // Gmail's main content area usually has role=\"main\"\n    var targetNode = document.querySelector('[role=\"main\"]');\n    if (!targetNode) {\n        console.log('Gmail main content area not found, retrying...');\n        setTimeout(observeGmailInbox, 1000);\n        return;\n    }\n    console.log('Found Gmail main content area, setting up observer');\n    createSidebar(); // Add sidebar when we find the main content\n    // A MutationObserver is created to monitor changes in the DOM (Document Object Model) of the targetNode.\n    var observer = new MutationObserver(function (mutations) {\n        mutations.forEach(function (mutation) {\n            // Look for email rows\n            var emailRows = document.querySelectorAll('tr[role=\"row\"]');\n            if (emailRows.length > 0) {\n                console.log('Emails found:', emailRows.length);\n                // We'll process these emails later\n            }\n        });\n    });\n    //Changes in child elements (childList: true).\n    //Changes deep within the DOM tree (subtree: true).\n    observer.observe(targetNode, {\n        childList: true,\n        subtree: true\n    });\n}\nvar init = function () {\n    if (!window.location.origin.includes(GMAIL_URL_PATTERN)) {\n        return;\n    }\n    console.log('Gmail detected, starting observer');\n    observeGmailInbox();\n};\n// Start when page loads\nwindow.addEventListener('load', init);\n"],"names":[],"sourceRoot":""}